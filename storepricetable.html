<!DOCTYPE html>
<html lang="en">
	<head>
		<link href="tabulator.min.css" rel="stylesheet">
	<style>
	.button {
    		background-color: #4CAF50;
    		border: none;
    		color: white;
    		padding: 15px 25px;
    		text-align: center;
    		font-size: 16px;
    		cursor: pointer;
		}

	.button:hover {
    		background: green;
		}
	</style>
	</head>
	<body>
		<h1 style="color:blue;">Zebra Store Product List</h1>

		<div id="example-table"></div>
		
		<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
		<script type="text/javascript" src="tabulator.min.js"></script>
		<script type="text/javascript">

			$("#example-table").tabulator({
			    // height:200, // set height of table to enable virtual DOM
			    addRowPos:"bottom",
			    layout:"fitColumns", //fit columns to width of table (optional)
			    columns:[ //Define Table Columns
			        {title:"SKU", field:"sku", sorter:"number", width:150, align:"right"},
			        {title:"Description", field:"description", sorter:"string", editor:true, align:"left", width:200},
			        {title:"Unit Price", field:"unitPrice", sorter:"number", editor:true, align:"right", sortable:false},
			        {title:"EAN/UPC code", field:"eanCode", sorter:"number", align:"right"},
			    ],
			    cellEdited:function(cell){
				var data = cell.getRow().getData();
				var myJSON = JSON.stringify(data);
				var xhr = new XMLHttpRequest();
				var url = "productupdate";
				xhr.open("POST", url, true);
				xhr.setRequestHeader("Content-type", "application/json");
				xhr.send(myJSON);
    			    },
			});

			$("#example-table").tabulator("setData", "storepricelist.json");
			
			$("#add-row").click(function(){
    				$("#example-table").tabulator("addRow", {});
			});

		</script>
	</body>
</html>